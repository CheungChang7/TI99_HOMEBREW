GOSUB INITIALIZE :: GOSUB INTRO :: I=0 :: GOSUB FINDSK :: GOSUB OPENDSK
GOSUB WRITEGFX :: GOSUB COMPLETE
END
INTRO:
    CALL LINK("DISPLY",24,8,"Pac-Man++ Installer") :: VALUE=4 :: GOSUB SCROLL
    CALL LINK("DISPLY",24,8,"          Aug  2024") :: VALUE=1 :: GOSUB SCROLL
    CALL LINK("DISPLY",24,8,"          By B.Gray") :: VALUE=2 :: GOSUB SCROLL
    CALL LINK("DISPLY",24,8,"       PART 2      ") :: VALUE=8 :: GOSUB SCROLL :: RETURN
FINDSK:
       X=0 :: ON ERROR FINDSK :: I=I+1 :: A$="DSK"&STR$(I) :: IF I>8 THEN ERROUT
       CALL LINK("DISPLY",20,1,"CHECKING DATA ON "&A$) :: CALL LINK("DELAY",1000)
       OPEN #1:A$&".PD",INPUT
       IF X=0 THEN CALL LINK("DISPLY",20,1,"FOUND EXISTING DATA ON "&A$)
       RETURN
ERROUT:
    X=2 :: CALL LINK("DISPLY",20,1,"ERROR READING DATA FROM DISK: "&A$)
    CALL LINK("DISPLY",22,1,"RUN INSTALL PT1, THEN THIS ONE") :: CALL LINK("DELAY",2000) :: END
OPENDSK:
    D$=A$&".PG"
    OPEN #1:D$,OUTPUT :: RETURN
GETBACK:
    CALL LINK("DISPLY",24,1,"ERROR CLOSING FILE") :: RETURN
INITIALIZE:
    CALL CLEAR :: CALL LINK("SCRN2") :: CALL LINK("SCREEN",2)
    CALL LINK("COLOR2",1,7,1,2,7,1,3,7,1,4,7,1,5,7,1) :: CALL LINK("COLOR2",6,7,1,7,7,1,8,7,1,9,7,1,10,7,1)
    CALL LINK("COLOR2",11,7,1,12,7,1) :: RETURN
SCROLL:
    FOR I=1 TO VALUE :: CALL LINK("DELAY",200) :: CALL LINK("SCRLUP",1) :: NEXT I :: RETURN
WRITEGFX:
         GOSUB CLRLNS :: CALL LINK("DISPLY",22,1,"WRITING GRAPHICS DATA...")
         RESTORE GFX :: FOR I=1 TO 56 :: READ G$ :: PRINT #1:G$ :: NEXT I
         FOR I=1 TO 28 :: READ G$ :: PRINT #1:G$ :: NEXT I
         CALL LINK("DISPLY",24,1,"GRAPHICS DATA WRITTEN!") :: DISK=1 :: GOSUB CLOSEDISK :: RETURN
COMPLETE:
    GOSUB CLRLNS :: CALL LINK("DISPLY",20,3,"Data written to file on "&A$) :: CALL LINK("DELAY",3000) ::
    DISK=1 :: GOSUB CLOSEDISK :: DISK=5 :: GOSUB CLOSEDISK :: RETURN
CLRLNS:
       CALL LINK("DELAY",3000) :: CALL HCHAR(20,1,32,160) :: RETURN
CLOSEDISK:
          ON ERROR ERRETURN :: CALL LINK("DELAY",1000) :: CLOSE #DISK :: RETURN
ERRETURN:
         RETURN
GFX:
DATA "070A1464BCB6761C3C7ED7FDAF7A2C18007CFEFFBFCE7C0004183C3C7E5E6E3C","08367F7F7D7D3A1C3E08366B556B553E76FF9D89CB7E366303070B162E5CB8E"
DATA "18242418083808383C7E5E5EBFFF897E3C7EFDC37E181C0C00387EFFBFBF5E38","0A1E376DDAB6EC380066FFFF7E3C1800244824FFFDFD7E3810285062C5CA7C3"
DATA "00FE44281010103806090472FCE8D8707886FDBDBDBDCE780036777F1C7F7736","BD7E5A763C245A817830347AACDCAC782A1C2A7F2A1C2A000"
DATA "0","0000000073674E1C003973674E1C3973000000009C3872E600CE9C3872E6CE9C"
DATA "000000000000000000000018180000000000183C3C18000000183C7E7E3C18","0055AA55AA00000000AA55AA5500000000183C7E7E3C1800007CFEFFBFCE7C"
DATA "00000018180000000044EC44040E00007C66666E786C6E007C60607860607C","183C66667E66660078646666666C780044446C3810101000001C18306040008"
DATA "003C6E464646663C001838181818183C00386C4C1C38707C00386C0C380C6C38","000C1C2C6C7E0C0C007C40780C6C7C38001C306078646C38007C640C1830303"
DATA "00384C4C384C4C3800384C4C3C0C48300000303000303000000030300030102","0000003C3C0000007830347AACDCAC78482448FFFDFD7E38244824FFFDFD7E38"
DATA "0038445C545C403800183C66667E66660078646478646478003C76606060763C","0078646464646478007C60607860607C007C606078606060003C76606E667E3C"
DATA "006666667E666666003C18181818183C000C0C0C0C0C6C3800646C7870786C64","006060606060607C00C6EEFED6C6C6C600666676766E6E6600384CC6C6C66438"
DATA "007C66667C6060600038646464746834007C62667C686466003C66603C06663C","007E181818181818006666666666763C006262623434181800C2C2C2DADADA6C"
DATA "00666618181866660044446C38103030007C4C081020647C002424","0002040810204000387EFFBFBF5E3800000010107C101000000000007C"
DATA "C3C3C3C3C3C3C3C3FFFF00000000FFFF3F7FE0C0C0E07F3FFCFE07030307FEFC","3C7EE7C3C3C3C3C3C3C3C3C3C3E77E3C3F7FE0C0C0C0C3C3FCFE07030303C3C3"
DATA "C3C3C0C0C0E07F3FC3C303030307FEFCFFFF000000000081C1C0C0C0C0C0C0C1","8303030303030383810000000000FFFF7EFFC3C3C3C3FF7E0"
DATA "03070E0C1F3F1B55555B7F777777717FE0F03818FCFEBA5555BBFF7B375B33FF","0"
DATA "0000FFFFFFFF000000AA55AA5500000000FE442810101038081C3E7F3E1C08","007E4E1C38727E0010285062C5CA7C3010387CFEFE541038001C1C6B7F6B081C"
DATA "004AD5555555EA00006AB5355595EA0000EA355535B54A0000AAB5F535352A","00EA95D535B54A00006A95D5B5B54A0000EA353555554A00004AB555B5B54A"
DATA "004AB5B575354A00102078AC361A0C003010609C761B0D06301030BCD61B0D06","2048303C561B0D06304820BCD61B0D063040E0BCF61B0D062010107C961B0D06"
DATA "3868989C761B0D067050703CD61B0D062040B82C361B0D063010F8AC761B0D06","3C5EDBFFABD5FFAA3C7ADBFFD5ABFF553C7EFDC37E181C0C6020D8AC761B0D06"
DATA "070A1464BCB6761C08367F7F7D7D3A1C76FF9D89CB7E366306090472FCE8D87","0"
DATA "007CFEFFBFCE7C0018242418083808383C1E0F07070F1E3C0","0705070C183060C0E0A0E030180C060300000000000000000"
DATA "03070B162E5CB8E03C7E5E5EBFFF897E0A1E376DDAB6EC380","76FF9D89CB7E36630000000000000000FFFFFFFF000000000"
DATA "04183C3C7E5E6E3C0036777F1C7F773600000000000000000","18275C1306010000003973674E1C39730000C09072CF3C1306CE9C3872E6CE9C"
DATA "3E08366B556B553E000000000000000000000000000000000","0"
DATA "3C7EFDC37E181C0C00387EFFBFBF5E38244824FFFDFD7E387886FDBDBDBDCE78","0"
DATA "10285062C5CA7C30000000000000000000000000000000000","0"
DATA "00FE442810101038000000000000000000000000000000000","0"
DATA "3C7ED7FDAF7A2C180066FFFF7E3C180000000000000000000","0"
DATA "3C7EFFFFFFFF7E3C3C7EFFFCF0FF7E3C3C7EF8F0F0F87E3C3C78F0E0E0F0783C","3C7EFFFFFFFF7E3C3C7EFFFFF7F766243C7EFFFFE7C342003C7EFFE7C381"
DATA "3C7EFFFFFFFF7E3C3C7EFF3F0FFF7E3C3C7E1F0F0F1F7E3C3C1E0F07070F1E3C","3C7EFFFFFFFF7E3C2466F7F7FFFF7E3C0042C3E7FFFF7E3C000081C3E7FF7E3C"
DATA "3C7E99BB99FFFFAA3C7E99BB99FFFF553C7E9999BDFFFFAA3C7E9999BDFFFF55","3C7E99DD99FFFF553C7E99DD99FFFFAA3C7EBD9999FFFFAA3C7EBD9999FFFF55"
DATA "3C5EDBFFABD5FFAA3C7ADBFFD5ABFF553C5EDBFFABD5FFAA3C7ADBFFD5ABFF55","3C5EDBFFABD5FFAA3C7ADBFFD5ABFF553C5EDBFFABD5FFAA3C7ADBFFD5ABFF55"
DATA "001F3F7F7FFFFFFFFBF1F1FBFFFFFFFF0080C0E0E0F0F0F0FFFFFFFFFFFFFFFF","007E7F7F7F7F7C3C3F3F3F1F1F1F1F0F0000E0FEFFFFFFFFF0E0C08"
DATA "0000077FFFFFFFFF0F07030100000000007EFEFEFEFE3E3CFCFCFCF8F8F8F8F","06070F0F1F1F3F3F7FFF7737010F070200000000008080E0FEFFFFFCF0C"
DATA "00FFFFFFFFFFFFFFFEFCFFFFFFFFFF0000FCF8F0E0C080000000FEFEFEFEFE","0000030303033F3F3F3F0303030300000000C0C0C0C0FCFCFCFCC0C0C0C"
DATA "071F3F3F717171717F7F7F7F7F7F3711E0F8FCFCC6C6C6C6FEFEFEFEFEFE7612","071F3F3F717171717F7F7F7F7F7F6E48E0F8FCFCC6C6C6C6FEFEFEFEFEFEEC88"
DATA "00030F1F3F3F7F7F7F7F3F3F1F0F030000C0F0F8FCFCFEFEFEFEFCFCF8F0C","00030F1F3F3F7F7F7F7F3F3F1F0F030000C0F0F8FCFCFEE000FEFCFCF8F0C"
DATA "00030F1F3F3F7F7F7F7F3F3F1F0F030000C0F0F8FCFCE0800080E0FCF8F0C","00030F1F3F3F7F7F7F7F3F3F1F0F030000C0F0F8F0E0C08080C0E0F0F8F0C"
DATA "FFAAAAFFAAAAFFAAFEAAAAFEAAAAFEAA","FFFFFF0000000000000000000000000000000000000000000"
DATA "000000000E02020E000000000000000000000000380808380","0705070C183060C0E0A0E030180C0603"
DATA "0000664466000000000066446600000000006666420000000000666642","0000662266000000000066226600000000004266660000000000426666"
DATA "4AB5357595EA00002A75B5F5352A00004AB555B5B54A0000205CB02E3B0D06","0000000000187E3C000000000018183C000024181824000000422400002442"
MUSIC:
DATA "000"
